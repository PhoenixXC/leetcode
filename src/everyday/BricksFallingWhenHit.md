# [BricksFallingWhenHit](./BricksFallingWhenHit.java)

### 题目

有一个 m x n 的二元网格，其中 1 表示砖块，0 表示空白。砖块 稳定（不会掉落）的前提是：

一块砖直接连接到网格的顶部，或者 至少有一块相邻（4 个方向之一）砖块 稳定 不会掉落时 给你一个数组 hits ，这是需要依次消除砖块的位置。每当消除hits[i] = (rowi, coli)
位置上的砖块时，对应位置的砖块（若存在）会消失，然后其他的砖块可能因为这一消除操作而掉落。一旦砖块掉落，它会立即从网格中消失（即，它不会落在其他稳定的砖块上）。

返回一个数组 result ，其中 result[i] 表示第 i 次消除操作对应掉落的砖块数目。

注意，消除可能指向是没有砖块的空白位置，如果发生这种情况，则没有砖块掉落。



> 来源：力扣（LeetCode）
>
> 链接：https://leetcode-cn.com/problems/bricks-falling-when-hit
>
> 著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。

#### Tag

<kbd>并查集</kbd>

### 思路

状态：

- 初始：图中所有的点都在包含有 `(x, 0)` 这样点的连通图中
- 每击落一次，如果击落了一个砖块，那么：1.仅掉落击中的砖块；2.掉落包含击落砖块的n块砖；最后的结果仍然满足初始状态

这样的过程是在二元网格中连通集合逐渐缩减的过程，而并查集正常仅支持集合的合并，不支持集合的缩减，但我们可以逆序来考虑：

- 初始：图中部分点在包含有 `(x, 0)` 这样点的连通图中，属于 `hit` 和部分 `grid` 的点属于额外的连通图，这部分点集称为 `extra`
- 每次添加一个砖块（假设这个砖块在集合 `grid` 中），进行集合的合并操作，这时比较合并前后的并查集的连通数的变化，若变化， 则意味着新添加的砖块作为 `extra` 中部分点可以稳定的连接点
